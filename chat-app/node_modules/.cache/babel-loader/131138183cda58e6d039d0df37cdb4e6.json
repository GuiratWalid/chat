{"ast":null,"code":"import _defineProperty from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Logo from'../assets/Logo.png';import{ToastContainer,toast}from'react-toastify';import{loginRoute}from'../utils/APIRoutes';import FormContainer from'../utils/FormContainer';import'react-toastify/dist/ReactToastify.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var toastOptions={position:\"bottom-right\",autoClose:8000,pauseOnHover:true,draggable:true,theme:'dark'};var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var password,username,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!handleValidation()){_context.next=8;break;}password=user.password,username=user.username;_context.next=5;return axios.post(loginRoute,{username:username,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(!data.status)toast.error(data.msg,toastOptions);else{localStorage.setItem('user',JSON.stringify(data.user));navigate(\"/\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleValidation=function handleValidation(){var password=user.password,confirmPassword=user.confirmPassword,username=user.username,email=user.email;if(username.length<6){toast.error(\"Username should contain at least 6 characters.\",toastOptions);return false;}else if(email===\"\"){toast.error(\"Email is required.\",toastOptions);return false;}else if(password.length<8){toast.error(\"Password should contain at least 8 characters.\",toastOptions);return false;}else if(password!==confirmPassword){toast.error(\"You should confirm your password.\",toastOptions);return false;}return true;};var handleChange=function handleChange(e){setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},_defineProperty({},e.target.name,e.target.value));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Friends Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0627\\u0644\\u0623\\u0635\\u062F\\u0642\\u0627\\u0621\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"you don't have an account ? \",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Login;","map":{"version":3,"names":["useState","Link","useNavigate","Logo","ToastContainer","toast","loginRoute","FormContainer","axios","Login","username","password","user","setUser","toastOptions","position","autoClose","pauseOnHover","draggable","theme","navigate","handleSubmit","e","preventDefault","handleValidation","post","data","status","error","msg","localStorage","setItem","JSON","stringify","confirmPassword","email","length","handleChange","prevUser","target","name","value"],"sources":["C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Logo from '../assets/Logo.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { loginRoute } from '../utils/APIRoutes';\r\nimport FormContainer from '../utils/FormContainer';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const [user, setUser] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const toastOptions = {\r\n        position: \"bottom-right\",\r\n        autoClose: 8000,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        theme: 'dark',\r\n    };\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if (handleValidation()) {\r\n            const { password, username } = user;\r\n            const { data } = await axios.post(loginRoute, {\r\n                username,\r\n                password,\r\n            });\r\n            if (!data.status)\r\n                toast.error(data.msg, toastOptions);\r\n            else {\r\n                localStorage.setItem('user', JSON.stringify(data.user));\r\n                navigate(\"/\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleValidation = () => {\r\n        const { password, confirmPassword, username, email } = user;\r\n        if (username.length < 6) {\r\n            toast.error(\r\n                \"Username should contain at least 6 characters.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        else if (email === \"\") {\r\n            toast.error(\r\n                \"Email is required.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        else if (password.length < 8) {\r\n            toast.error(\r\n                \"Password should contain at least 8 characters.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        else if (password !== confirmPassword) {\r\n            toast.error(\r\n                \"You should confirm your password.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleChange = e => {\r\n        setUser(prevUser => ({ ...prevUser, [e.target.name]: e.target.value }));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormContainer>\r\n                <form onSubmit={e => handleSubmit(e)}>\r\n                    <div className=\"brand\">\r\n                        <img\r\n                            src={Logo}\r\n                            alt=\"Friends Logo\"\r\n                        />\r\n                        <h1>\r\n                            الأصدقاء\r\n                        </h1>\r\n                    </div>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        name=\"username\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        name=\"email\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        name=\"password\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <button type=\"submit\">\r\n                        Login\r\n                    </button>\r\n                    <span>\r\n                        you don't have an account ? {\" \"}\r\n                        <Link to=\"/register\">Register</Link>\r\n                    </span>\r\n                </form>\r\n            </FormContainer >\r\n            <ToastContainer />\r\n        </>\r\n    )\r\n};\r\n\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}