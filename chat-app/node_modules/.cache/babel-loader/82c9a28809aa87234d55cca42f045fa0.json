{"ast":null,"code":"import _defineProperty from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import Logo from'../assets/Logo.png';import{ToastContainer,toast}from'react-toastify';import{registerRoute}from'../utils/APIRoutes';import FormContainer from'../styled-components/FormContainer';import'react-toastify/dist/ReactToastify.css';import axios from'axios';import toastOptions from'../utils/ToastOptions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();useEffect(function(){if(localStorage.getItem('user'))navigate('/');},[navigate]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var password,username,email,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!handleValidation()){_context.next=8;break;}password=user.password,username=user.username,email=user.email;_context.next=5;return axios.post(registerRoute,{username:username,email:email,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(!data.status)toast.error(data.msg,toastOptions);else{localStorage.setItem('user',JSON.stringify(data.user));navigate(\"/\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleValidation=function handleValidation(){var password=user.password,confirmPassword=user.confirmPassword,username=user.username,email=user.email;if(username.length<6){toast.error(\"Username should contain at least 6 characters.\",toastOptions);return false;}else if(email===\"\"){toast.error(\"Email is required.\",toastOptions);return false;}else if(password.length<8){toast.error(\"Password should contain at least 8 characters.\",toastOptions);return false;}else if(password!==confirmPassword){toast.error(\"You should confirm your password.\",toastOptions);return false;}return true;};var handleChange=function handleChange(e){setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},_defineProperty({},e.target.name,e.target.value));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Friends Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0627\\u0644\\u0623\\u0635\\u062F\\u0642\\u0627\\u0621\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",name:\"confirmPassword\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create User\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"already have an account ? \",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Register;","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","Logo","ToastContainer","toast","registerRoute","FormContainer","axios","toastOptions","Register","username","email","password","confirmPassword","user","setUser","navigate","localStorage","getItem","handleSubmit","e","preventDefault","handleValidation","post","data","status","error","msg","setItem","JSON","stringify","length","handleChange","prevUser","target","name","value"],"sources":["C:/Users/Walid/Documents/Real time chat application using MERN stack/chat-app/src/pages/Register.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Logo from '../assets/Logo.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { registerRoute } from '../utils/APIRoutes';\r\nimport FormContainer from '../styled-components/FormContainer';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport toastOptions from '../utils/ToastOptions';\r\n\r\n\r\nconst Register = () => {\r\n\r\n    const [user, setUser] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n    });\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('user'))\r\n            navigate('/');\r\n    }, [navigate]);\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if (handleValidation()) {\r\n            const { password, username, email } = user;\r\n            const { data } = await axios.post(registerRoute, {\r\n                username,\r\n                email,\r\n                password,\r\n            });\r\n            if (!data.status)\r\n                toast.error(data.msg, toastOptions);\r\n            else {\r\n                localStorage.setItem('user', JSON.stringify(data.user));\r\n                navigate(\"/\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleValidation = () => {\r\n        const { password, confirmPassword, username, email } = user;\r\n        if (username.length < 6) {\r\n            toast.error(\r\n                \"Username should contain at least 6 characters.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        else if (email === \"\") {\r\n            toast.error(\r\n                \"Email is required.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        else if (password.length < 8) {\r\n            toast.error(\r\n                \"Password should contain at least 8 characters.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        else if (password !== confirmPassword) {\r\n            toast.error(\r\n                \"You should confirm your password.\",\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleChange = e => {\r\n        setUser(prevUser => ({ ...prevUser, [e.target.name]: e.target.value }));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormContainer>\r\n                <form onSubmit={e => handleSubmit(e)}>\r\n                    <div className=\"brand\">\r\n                        <img\r\n                            src={Logo}\r\n                            alt=\"Friends Logo\"\r\n                        />\r\n                        <h1>\r\n                            الأصدقاء\r\n                        </h1>\r\n                    </div>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        name=\"username\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        name=\"email\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        name=\"password\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm Password\"\r\n                        name=\"confirmPassword\"\r\n                        onChange={e => handleChange(e)}\r\n                    />\r\n                    <button type=\"submit\">\r\n                        Create User\r\n                    </button>\r\n                    <span>\r\n                        already have an account ? {\" \"}\r\n                        <Link to=\"/login\">Login</Link>\r\n                    </span>\r\n                </form>\r\n            </FormContainer >\r\n            <ToastContainer />\r\n        </>\r\n    )\r\n};\r\n\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}